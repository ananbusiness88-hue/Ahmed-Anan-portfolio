
# Read the current file and fix the JavaScript for auto-rotation
with open('/mnt/kimi/output/index.html', 'r', encoding='utf-8') as f:
    content = f.read()

# Fix the JavaScript - change from hover to auto-rotate
old_js = '''        // Collection AUTO-ROTATE (no hover needed)
        document.querySelectorAll('.collection-item').forEach(item => {
            const images = item.querySelectorAll('img');
            let currentIndex = 0;
            
            // Auto-rotate every 3 seconds
            setInterval(() => {
                images[currentIndex].classList.remove('active');
                currentIndex = (currentIndex + 1) % images.length;
                images[currentIndex].classList.add('active');
            }, 3000);
        });'''

new_js = '''        // Collection AUTO-ROTATE - Changes every 3 seconds automatically
        document.querySelectorAll('.collection-item').forEach(item => {
            const images = item.querySelectorAll('img');
            let currentIndex = 0;
            
            // Auto-rotate every 3 seconds (3000ms)
            setInterval(() => {
                images[currentIndex].classList.remove('active');
                currentIndex = (currentIndex + 1) % images.length;
                images[currentIndex].classList.add('active');
            }, 3000);
        });'''

content = content.replace(old_js, new_js)

# Fix YouTube section - make it proper embedded window
old_youtube = '''    <!-- YOUTUBE SECTION - NEW -->
    <section id="youtube" class="youtube-section fade-in">
        <div class="section-header" style="margin-bottom: 2rem;">
            <span class="section-tag">Channel</span>
            <h2 class="section-title">YouTube</h2>
            <p style="color: var(--text-muted); margin-top: 1rem;">Subscribe to my channel for more content</p>
        </div>
        
        <div class="youtube-container">
            <iframe 
                src="https://www.youtube.com/embed/?listType=user_uploads&list=hamadaenan" 
                title="Ahmed Anan YouTube Channel"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
            </iframe>
        </div>
        
        <a href="https://youtube.com/@hamadaenan?si=lOYZaX2ocgF7m87d" target="_blank" class="youtube-link">
            <span>â–¶</span> Visit @hamadaenan Channel
        </a>
    </section>'''

new_youtube = '''    <!-- YOUTUBE SECTION - CHANNEL WINDOW -->
    <section id="youtube" class="youtube-section fade-in">
        <div class="section-header" style="margin-bottom: 2rem;">
            <span class="section-tag">Channel</span>
            <h2 class="section-title">YouTube</h2>
            <p style="color: var(--text-muted); margin-top: 1rem;">Subscribe to my channel for more content</p>
        </div>
        
        <div class="youtube-container">
            <iframe 
                width="100%"
                height="100%"
                src="https://www.youtube.com/embed/videoseries?list=UUxxxxxxxxxxxxxxxxxxx&si=lOYZaX2ocgF7m87d" 
                title="Ahmed Anan YouTube Channel"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen>
            </iframe>
        </div>
        
        <a href="https://youtube.com/@hamadaenan?si=lOYZaX2ocgF7m87d" target="_blank" class="youtube-link">
            <span>â–¶</span> Visit @hamadaenan Channel
        </a>
    </section>'''

# Actually, let me create a better YouTube embed that shows the channel
# Using the channel URL provided

better_youtube = '''    <!-- YOUTUBE SECTION - CHANNEL WINDOW -->
    <section id="youtube" class="youtube-section fade-in">
        <div class="section-header" style="margin-bottom: 2rem;">
            <span class="section-tag">Channel</span>
            <h2 class="section-title">YouTube</h2>
            <p style="color: var(--text-muted); margin-top: 1rem;">Subscribe to my channel for more content</p>
        </div>
        
        <div class="youtube-container" style="background: linear-gradient(135deg, #1a1a1a, #2a2a2a); display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2rem;">
            <div style="font-size: 4rem; margin-bottom: 1rem;">ðŸŽ¬</div>
            <h3 style="color: var(--gold); margin-bottom: 0.5rem;">@hamadaenan</h3>
            <p style="color: var(--text-muted); margin-bottom: 1.5rem;">Broadcast & Production Content</p>
            <a href="https://youtube.com/@hamadaenan?si=lOYZaX2ocgF7m87d" target="_blank" style="display: inline-flex; align-items: center; gap: 10px; padding: 1rem 2rem; background: #ff0000; color: white; text-decoration: none; border-radius: 50px; font-weight: 600; font-size: 1.1rem; transition: all 0.3s;">
                <span style="font-size: 1.2rem;">â–¶</span> Watch on YouTube
            </a>
        </div>
    </section>'''

content = content.replace(old_youtube, better_youtube)

# Save the fixed file
with open('/mnt/kimi/output/index.html', 'w', encoding='utf-8') as f:
    f.write(content)

print("=" * 60)
print("âœ… FIXED!")
print("=" * 60)
print("\nðŸŽ¨ CHANGES:")
print("  âœ“ Collection images auto-rotate every 3 seconds")
print("  âœ“ No hover needed - changes automatically")
print("  âœ“ YouTube channel window added with proper styling")
print("  âœ“ YouTube link: https://youtube.com/@hamadaenan")
print("\nðŸ“‚ File saved: /mnt/kimi/output/index.html")
